(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(61),l=t.n(r),i=(t(70),t(22)),c=t(23),s=t(9),u=t(10),m=t(12),p=t(11),h=t(13),d=function(e){function n(){return Object(s.a)(this,n),Object(m.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,n=[{name:"title",value:this.props.title,type:"text",callback:function(n){e.props.onConfigChange("title",n.target.value)}},{name:"primaryColor",noBreak:!0,value:this.props.primaryColor,type:"color",callback:function(n){e.props.onConfigChange("primaryColor",n.target.value)}},{name:"primaryColorText",value:this.props.primaryColorText,type:"color",callback:function(n){e.props.onConfigChange("primaryColorText",n.target.value)}},{name:"secondaryColor",noBreak:!0,value:this.props.secondaryColor,type:"color",callback:function(n){e.props.onConfigChange("secondaryColor",n.target.value)}},{name:"secondaryColorText",value:this.props.secondaryColorText,type:"color",callback:function(n){e.props.onConfigChange("secondaryColorText",n.target.value)}},{name:"backgroundColor",noBreak:!0,value:this.props.backgroundColor,type:"color",callback:function(n){e.props.onConfigChange("backgroundColor",n.target.value)}},{name:"generalTextColor",value:this.props.generalTextColor,type:"color",callback:function(n){e.props.onConfigChange("generalTextColor",n.target.value)}},{name:"logo",value:this.props.moodleXmlPath,type:"file",callback:function(n){e.readFile(n.target.files[0],function(n){return e.props.onConfigChange("logo",n)},!0)}},{name:"moodleXml",friendlyName:"Moodle XML",value:this.props.moodleXmlPath,type:"file",callback:function(n){e.readFile(n.target.files[0],function(n){return e.props.onConfigChange("moodleXmlPath",n)})}},{name:"finish_screen",noBreak:!0,friendlyName:"Finish screen",value:this.props.finish_screen,type:"checkbox",callback:function(n){e.props.onConfigChange("finish_screen",!e.props.finish_screen)}},{name:"feedback",noBreak:!0,value:this.props.feedback,type:"checkbox",callback:function(n){e.props.onConfigChange("feedback",!e.props.feedback)}},{name:"randomQuestions",value:this.props.randomQuestions,type:"checkbox",callback:function(n){e.props.onConfigChange("randomQuestions",!e.props.randomQuestions)}},{name:"n",noBreak:!0,friendlyName:"Number of questions",value:this.props.n,min:0,type:"number",callback:function(n){e.props.onConfigChange("n",parseInt(n.target.value))}},{name:"threshold",value:this.props.threshold,type:"number",callback:function(n){e.props.onConfigChange("threshold",n.target.value)}},{name:"successMessage",value:this.props.successMessage,type:"text",callback:function(n){e.props.onConfigChange("successMessage",n.target.value)}},{name:"failMessage",value:this.props.failMessage,type:"text",callback:function(n){e.props.onConfigChange("failMessage",n.target.value)}}];return a.a.createElement("div",{className:"config"},n.map(function(n){return[a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:n.name},a.a.createElement("b",null,n.friendlyName||e.humanize(n.name))),a.a.createElement("input",{name:n.name,type:n.type,value:"file"===n.type?void 0:n.value,min:n.min,checked:n.value,onChange:n.callback})),n.noBreak?null:a.a.createElement("br",null)]}),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"scormVersion"},a.a.createElement("b",null,"SCORM Version")),a.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 1.2"),a.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"1.2"===this.props.scormVersion,onChange:function(n){e.props.onConfigChange("scormVersion","1.2")}}),a.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 2004"),a.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"2004"===this.props.scormVersion,onChange:function(n){e.props.onConfigChange("scormVersion","2004")}})))}},{key:"readFile",value:function(e,n,t){try{var o=new FileReader;o.onload=function(e){return n(e.target.result)},o.onerror=function(e){return n("")},o.readAsDataURL(e)}catch(a){n("")}}},{key:"humanize",value:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})}}]),n}(o.Component),f=function(e){function n(){return Object(s.a)(this,n),Object(m.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:this.props.show?"modal":"modal hidden"},a.a.createElement("div",{className:"overlay"}),a.a.createElement("div",{className:"modal-body"},a.a.createElement("button",{className:"modal-close",onClick:this.props.hide},a.a.createElement("i",{className:"material-icons"},"close")),a.a.createElement("h3",null,"About"),a.a.createElement("br",{style:{clear:"both"}}),a.a.createElement("div",{className:"modal-content"},"This website allows you to customize your very own quiz application and generate a SCORM package so you can upload it to your preferred LMS.",a.a.createElement("h4",null,"Exercises"),a.a.createElement("hr",null),"In order to use your own exercises on the quiz, you need to submit a Moodle XML file. If you do not have one you can convert from an ",a.a.createElement("a",{href:"https://docs.moodle.org/all/es/Formato_Aiken",rel:"noopener noreferrer",target:"_blank"},"Aiken")," file using this ",a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://sonsoleslp.github.io/quiz-converter/"},"Quiz converter"),".",a.a.createElement("h4",null,"Publish"),a.a.createElement("hr",null),"You don't have an LMS? Don't worry! You can upload your SCORM Package to ",a.a.createElement("a",{href:"http://vishub.org",rel:"noopener noreferrer",target:"_blank"},"ViSH"),", and everyone will be able to get access with no need to sign up.",a.a.createElement("h4",null,"Author"),a.a.createElement("hr",null),"This project was developed by ",a.a.createElement("a",{href:"http://github.com/sonsoleslp",rel:"noopener noreferrer",target:"_blank"},"@sonsoleslp")," using ",a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/agordillo/RESCORM"},"RESCORM"),".")))}}]),n}(o.Component),g=(t(72),t(62)),v=t.n(g),b=t(63),C=t.n(b),y=t(64),k=t.n(y),E=function(e){C.a.getBinaryContent("2004"===e.scormVersion?"scorm2004.zip":"scorm12.zip",function(n,t){if(n)throw n;v.a.loadAsync(t).then(function(n){var t,o=function(e){var n=JSON.stringify(Object(i.a)({},e,{content:void 0,moodleXmlPath:e.moodleXmlPath?"assets/quiz.xml":void 0}));return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>'.concat(e.title||"Quiz",'</title>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"\n      rel="stylesheet">\n    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">\n </head>\n<body>\n<div id="root"></div>\n<script> window.config=JSON.parse(\'').concat(n,'\');<\/script>\n<script type="text/javascript" src="bundle.js"><\/script>\n</body>\n</html>')}(e);n.file("index.html",o),e.moodleXmlPath&&n.file("assets/quiz.xml",(t=e.moodleXmlPath,decodeURIComponent(window.atob(t.slice(21)).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")))),n.generateAsync({type:"blob"}).then(function(n){k.a.saveAs(n,e.title.toLowerCase().replace(/\s/g,"")+Math.round(+new Date/1e3)+("2004"===e.scormVersion?"_2004":"_1.2")+".zip")})})})};var w=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(m.a)(this,Object(p.a)(n).call(this,e))).state={title:"Quiz",primaryColor:"#20BEB8",primaryColorText:"#ffffff",secondaryColor:"#333333",secondaryColorText:"#ffffff",backgroundColor:"#ffffff",generalTextColor:"#000000",logo:void 0,moodleXmlPath:void 0,finish_screen:!0,feedback:!0,randomQuestions:!0,n:5,scormVersion:"1.2",showInfoModal:!1,threshold:50,successMessage:"Congratulations! You have passed",failMessage:"Keep trying..."},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("header",null,a.a.createElement("button",{className:"info",onClick:function(){e.setState({showInfoModal:!0})}},a.a.createElement("i",{className:"material-icons"},"info")),a.a.createElement("h1",null,a.a.createElement("i",{className:"material-icons"},"school"),a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/agordillo/RESCORM"},"RESCORM")," Quiz generator")),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"content-col left"},a.a.createElement("h2",null,"Configuration"),a.a.createElement(d,Object.assign({},this.state,{onConfigChange:function(n,t){e.setState(Object(c.a)({},n,t))}})),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:this.preview.bind(this)},a.a.createElement("i",{className:"material-icons"},"remove_red_eye"),"Preview"),a.a.createElement("button",{onClick:this.download.bind(this)},a.a.createElement("i",{className:"material-icons"},"cloud_download"),"Dowload"))),a.a.createElement("div",{className:"content-col right"},a.a.createElement("iframe",{id:"visor",title:"app"}))),a.a.createElement(f,{show:this.state.showInfoModal,hide:function(){e.setState({showInfoModal:!1})}}))}},{key:"preview",value:function(){var e=this;fetch("scorm12/index.html").then(function(e){return e.text()}).then(function(n){e.onloadend(n)})}},{key:"onloadend",value:function(e){var n=e.replace('<div id="root"></div>',"\n      <div id='root'></div>\n      <script>\n        window._babelPolyfill = false; \n        window.config=JSON.parse('".concat(JSON.stringify(Object(i.a)({},this.state,{dev:!0})),"');\n      <\/script>"));n=n.replace("bundle.js","scorm12/bundle.js");var t=document.getElementById("visor");t.contentWindow.document.open(),t.contentWindow.document.write(n),t.contentWindow.document.close()}},{key:"download",value:function(){E(this.state)}},{key:"componentDidMount",value:function(){this.preview()}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,n,t){e.exports=t(126)},70:function(e,n,t){},72:function(e,n,t){},78:function(e,n){},80:function(e,n){}},[[65,2,1]]]);
//# sourceMappingURL=main.f5e4113a.chunk.js.map