doe=function(){function t(t){this.canvas=document.getElementById(t.canvasId),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvas.style.width=window.innerWidth,this.canvas.style.height=window.innerHeight,this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this.unitsPerTick=t.unitsPerTick,this.axisColor="#C0C0C0",this.font='20pt "Source Sans Pro"',this.tickSize=20,this.context=this.canvas.getContext("2d"),this.rangeX=this.maxX-this.minX,this.rangeY=this.maxY-this.minY,this.unitX=this.canvas.width/this.rangeX,this.unitY=this.canvas.height/this.rangeY,this.centerY=Math.round(Math.abs(this.minY/this.rangeY)*this.canvas.height),this.centerX=Math.round(Math.abs(this.minX/this.rangeX)*this.canvas.width),this.iteration=(this.maxX-this.minX)/1e4,this.scaleX=this.canvas.width/this.rangeX,this.scaleY=this.canvas.height/this.rangeY,this.drawDiv()}var i=mediums;document.getElementById("pruebas").innerHTML+=i[0].moduloro;var n=0;i.forEach(function(t){n+=t.grosor});window.innerHeight,window.innerWidth;impedancia=function(t){var i=1,n=376.99111843077515;return 376.99==t.toFixed(2)?"η₀":376.99>t?(i=Math.round(n/t*100)/100,"η₀/"+i):(i=Math.round(t/n*100)/100,i+"η₀")},multiline=function(t,i,n,o){for(var e=i.split("\n"),r=14,s=o,a=0;a<e.length;a++)t.fillText(e[a],n,s),s+=r},t.prototype.drawDiv=function(){var t=this.axisColor,o=this.canvas.height,e=this.canvas.width,r=this.context,s=0;r.save(),r.beginPath(),i.forEach(function(i){s+=i.grosor/n*e,r.moveTo(s,0),r.lineTo(s,o),r.strokeStyle=t,r.lineWidth=2,r.stroke()});this.unitsPerTick*this.unitY;r.font=this.font,r.textAlign="right",r.textBaseline="middle",r.restore()},t.prototype.drawEquation=function(t,i,n){var o=this.context;o.save(),o.save(),this.transformContext(),o.beginPath(),o.moveTo(this.minX,t(this.minX));for(var e=this.minX+this.iteration;e<=this.maxX;e+=this.iteration)o.lineTo(e,t(e));o.restore(),o.lineJoin="round",o.lineWidth=n,o.strokeStyle=i,o.stroke(),o.restore()},t.prototype.drawTags=function(){var t=this.context,o=this.axisColor,e=this.canvas.height,r=this.canvas.width,s=0;if(t.save(),t.beginPath(),t.textAlign="center",t.textBaseline="middle",i.forEach(function(i){s+=i.grosor/2/n*r,t.moveTo(s,0),window.innerWidth>950?t.font='16px "Source Sans Pro"':t.font='12pt "Source Sans Pro"',t.fillText(impedancia(i.eta),s,30),window.innerWidth>950?t.font='14px "Source Sans Pro"':t.font='12pt "Source Sans Pro"',t.fillText(i.grosor+" mm",s,e-30),t.strokeStyle=o,t.lineWidth=2,t.stroke(),s+=i.grosor/2/n*r}),i.length>1){var a=0,h=i[0].grosor/n*r;for(a=0;a<i.length-1;a++){var c=i[a];t.moveTo(h,0),window.innerWidth>950?t.font='16px "Source Sans Pro"':t.font='12pt "Source Sans Pro"';var l=complejox(c.moduloro,c.fasei),d=complejo(1,0),m="Z = \n"+imprimir(multiplicacion(complejo(c.eta,0),division(suma(d,l),resta(d,l))))+"\nΩ";multiline(t,m,h,e/4-12),window.innerWidth>950?t.font='16px "Source Sans Pro"':t.font='12pt "Source Sans Pro"',t.fillText("|ρ| = "+c.moduloro,h,3*e/4-20),t.fillText("φ₀ = "+Math.round(100*c.fasei)/100,h,3*e/4+2),t.font="25pt Sans-serif",t.fillText("↳",h,3*e/4-50),t.fillText("↳",h,e/4-35),t.strokeStyle=o,t.lineWidth=2,t.stroke(),h+=i[a+1].grosor/n*r,t.font='20pt "Source Sans Pro"'}}t.restore()},t.prototype.transformContext=function(){var t=this.context;this.context.translate(this.centerX,this.centerY),t.scale(this.scaleX,-this.scaleY)};var o=new t({canvasId:"myCanvas",minX:0,minY:-10,maxX:n,maxY:10,unitsPerTick:1});recorrer=function(t){var n=0,o=0,e=1;for(n=0;n<i.length-1&&!(t>o&&t<o+i[n].grosor);n++)o+=i[n].grosor;var r=parseInt(n);return e=Math.sqrt(2*i[r].eta/(2*i[0].eta)/(1-i[r].moduloro*i[r].moduloro)*(1-i[0].moduloro*i[0].moduloro)),10*e*Math.sqrt(1+i[r].moduloro*i[r].moduloro+2*Math.abs(i[r].moduloro)*Math.cos(4*Math.PI/i[r].lambda*(t-o-i[r].grosor)-i[r].fasei))-11},o.drawEquation(function(t){return recorrer(t)},"#05E28E",4.5),o.drawTags(),console.log("DOE done")};