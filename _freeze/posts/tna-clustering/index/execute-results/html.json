{
  "hash": "35dbded18148f41f2ba314a419226f97",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TNA Clustering: Discovering Latent Subgroups from Sequence Data\"\nsubtitle: \"Companion Tutorial for Transition Network Analysis\"\ndate: \"2026-02-06\"\nauthor:\n  - name: Mohammed Saqr\n    url: https://saqr.me\n    affiliation: University of Eastern Finland\n  - name: Sonsoles López-Pernas\n    url: https://sonsoles.me\n    affiliation: University of Eastern Finland\ncitation:\n   type: article\n   author:\n    - family: \"Saqr\"\n      given: \"Mohammed\"\n    - family: \"López-Pernas\"\n      given: \"Sonsoles\"\ncategories:\n  - tutorial\n  - R\n# engine: markdown\nwarning: false\nmessage: false\nfig.align: center\nformat:\n  html:\n    toc: true\n    toc-depth: 3\n    number-sections: true\n    code-fold: false\n    code-tools: false\n    theme: cosmo\n    self-contained: true\nexecute:\n  warning: false\n  message: false\nknitr:\n  opts_chunk:\n    fig.width: 8\n    fig.height: 6\n    dpi: 600\n    comment: \"\"\nimage: main.png\n\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n# Introduction\n\nThis tutorial covers **data-driven clustering** of temporal sequences using the `tna` package. It is a companion to the [main TNA tutorial](../tna-tutorial) and the [group comparison tutorial](../tna-group). We assume familiarity with the basics of building and analyzing a TNA model.\n\nWhen a meaningful grouping variable is available (e.g., achievement level, experimental condition), the [group tutorial](../tna-group) shows how to split data by that variable and compare group-specific models. But in many research settings, no such variable exists --- or the researcher suspects that the true structure of behavioral differences does not align with any available categorical variable. In these cases, **data-driven clustering** discovers naturally occurring subgroups directly from the sequence data, without imposing predefined categories.\n\nThis tutorial demonstrates how to:\n\n1.  Cluster sequences based on structural dissimilarity.\n2.  Build group-specific TNA models from the discovered clusters.\n3.  Compare and visualize cluster-specific networks.\n4.  Validate cluster differences with permutation testing.\n5.  Assess within-cluster edge reliability with bootstrapping.\n6.  Choose an appropriate number of clusters.\n\n## Installation\n\nThe `tna` package is the only package required. It provides all the functions needed for data preparation, model building, visualization, clustering, permutation testing, and bootstrapping.\n\nInstall from CRAN:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"tna\")\n```\n:::\n\n\nOr install the development version from GitHub:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"remotes\")\nremotes::install_github(\"sonsoleslp/tna\")\n```\n:::\n\n\n## Data Preparation\n\nWe use the built-in `group_regulation_long` dataset, which contains coded collaborative regulation behaviors from student groups. The `prepare_data()` function converts this long-format event log into the structure required for TNA.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the built-in collaborative regulation dataset\ndata(\"group_regulation_long\")\n\n# Convert long-format event log into TNA data\nprepared_data <- prepare_data(\n  group_regulation_long,\n  action = \"Action\",   # behavioral states (network nodes)\n  actor = \"Actor\",     # participant IDs (one sequence per actor)\n  time = \"Time\"        # timestamps (for ordering and session splitting)\n)\n\n# Build the aggregate TNA model (all sequences combined)\nmodel <- tna(prepared_data)\n```\n:::\n\n\n::: {.callout-tip collapse=\"true\"}\n## `prepare_data()` Arguments\n\n| Argument | Description |\n|-------------------------------|----------------------------------------|\n| `action` | **(Required)** Column containing the events or states to model. These become the network nodes. |\n| `actor` | Column identifying who performed the action. Creates one sequence per actor. |\n| `time` | Column with timestamps. Sorts events and splits sequences at temporal gaps (default: 15 minutes). |\n| `order` | Numeric column for event ordering when timestamps are unavailable. |\n| `time_threshold` | Gap duration in seconds that starts a new session (default: `900`). |\n\nAny columns not specified as `action`, `actor`, `time`, or `order` are automatically preserved as metadata.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## Other Supported Data Types\n\nThis tutorial uses long-format event data, but `tna()` accepts several other input formats:\n\n| Input Format | Function | Description |\n|---------------------------|--------------------|-------------------------|\n| Long event log | `prepare_data()` then `tna()` | Timestamped events with actors |\n| Wide data frame | `tna(df)` | Rows = sequences, columns = time points |\n| Pre-computed matrix | `tna(mat)` | Square weight matrix with named rows and columns |\n| TraMineR sequence | `tna(seqobj)` | Object from `TraMineR::seqdef()` |\n| One-hot binary data | `import_onehot()` | Co-occurrence model from binary feature data |\n:::\n\n# Why Cluster?\n\nA single TNA model computed from all sequences describes the *average* transition dynamics across all individuals. But averages can mask substantial heterogeneity. If one subgroup of learners follows a strategic regulatory cycle (plan &rarr; monitor &rarr; adapt) while another subgroup is stuck in social loops (discuss &rarr; consensus &rarr; discuss), the aggregate model shows a blend of both patterns that accurately represents neither.\n\nClustering addresses this by partitioning sequences into subgroups with distinct transition structures, allowing each cluster to be modeled separately. The result is a set of group-specific TNA models --- one per cluster --- that capture the actual behavioral patterns present in the data rather than an uninformative average.\n\nThis is exploratory analysis: we let the data reveal structure rather than imposing predefined categories. The discovered clusters may correspond to meaningful behavioral profiles --- different learning strategies, different levels of engagement, different regulatory styles --- that would be invisible in an aggregate analysis.\n\n# Running `cluster_sequences()`\n\nThe `cluster_sequences()` function takes a sequence data frame, computes pairwise dissimilarities between sequences, and partitions them into `k` groups:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Partition sequences into 2 clusters based on pairwise dissimilarity\nclustering <- cluster_sequences(prepared_data$sequence_data, k = 2)\nprint(clustering)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nClustering method: pam \nNumber of clusters: 2 \nSilhouette score: 0 \nCluster sizes:\n   1    2 \n1010  990 \n```\n\n\n:::\n:::\n\n\n::: {.callout-tip collapse=\"true\"}\n## How It Works\n\nThe procedure has two steps:\n\n1.  **Compute pairwise dissimilarity** between all sequences using a string distance metric. Each pair of sequences receives a dissimilarity score reflecting how structurally different they are.\n2.  **Cluster** the dissimilarity matrix using the chosen algorithm and assign each sequence to one of `k` groups.\n\n| Argument | Description | Default |\n|-----------------------|-----------------------------|---------------------|\n| `data` | Sequence data frame (e.g., `prepared_data$sequence_data`) | --- |\n| `k` | Number of clusters | --- |\n| `dissimilarity` | Distance metric: `\"hamming\"`, `\"lcs\"`, `\"cosine\"`, `\"jaccard\"`, `\"osa\"`, etc. | `\"hamming\"` |\n| `method` | Clustering algorithm: `\"pam\"`, `\"ward.D2\"`, `\"complete\"`, `\"average\"`, etc. | `\"pam\"` |\n\n**Dissimilarity metrics:**\n\n-   `\"hamming\"` --- counts the number of positions where two sequences differ. Fast and interpretable; requires equal-length sequences.\n-   `\"lcs\"` --- longest common subsequence. Handles variable-length sequences and is sensitive to ordering.\n-   `\"osa\"` --- optimal string alignment. Allows insertions, deletions, and substitutions; flexible but slower.\n-   `\"cosine\"` / `\"jaccard\"` --- set-based metrics that compare state compositions regardless of order.\n\n**Clustering algorithms:**\n\n-   `\"pam\"` --- Partitioning Around Medoids. Robust to outliers; identifies a representative sequence (medoid) for each cluster.\n-   `\"ward.D2\"` --- Ward's hierarchical clustering. Minimizes within-cluster variance; produces compact clusters.\n-   `\"complete\"` / `\"average\"` --- other hierarchical linkage methods for different cluster shape assumptions.\n:::\n\n# Building Group TNA from Clusters\n\nThe clustering result can be passed directly to `group_tna()`, which builds a separate TNA model for each cluster:\n\nOnce clusters are identified, we pass the clustering result directly to `group_tna()`, which builds a separate TNA model for each cluster. We also rename the clusters to give them more descriptive labels.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Build one TNA model per cluster and assign descriptive names\ngtna_clust <- group_tna(clustering)\ngtna_clust <- rename_groups(gtna_clust, c(\"Pattern A\", \"Pattern B\"))\n```\n:::\n\n\nPlotting the cluster-specific models side by side reveals how the discovered subgroups differ in their transition structures:\n\n\n::: {.cell .preview-image}\n\n```{.r .cell-code}\nplot(gtna_clust, cut = 0.1, minimum = 0.05)\n```\n\n::: {.cell-output-display}\n![Transition networks by discovered cluster](index_files/figure-html/fig-cluster-networks-1.png){#fig-cluster-networks-1 width=4800}\n:::\n\n::: {.cell-output-display}\n![Transition networks by discovered cluster](index_files/figure-html/fig-cluster-networks-2.png){#fig-cluster-networks-2 width=4800}\n:::\n:::\n\n\nThe summary provides network-level statistics for each cluster, including density, reciprocity, and the number of sequences assigned to each group:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(gtna_clust)\n```\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Pattern A\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Pattern B\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Node Count\",\"2\":\"9.000\",\"3\":\"9.000\"},{\"1\":\"Edge Count\",\"2\":\"78.000\",\"3\":\"78.000\"},{\"1\":\"Network Density\",\"2\":\"1.000\",\"3\":\"1.000\"},{\"1\":\"Mean Distance\",\"2\":\"0.045\",\"3\":\"0.048\"},{\"1\":\"Mean Out-Strength\",\"2\":\"1.000\",\"3\":\"1.000\"},{\"1\":\"SD Out-Strength\",\"2\":\"0.825\",\"3\":\"0.790\"},{\"1\":\"Mean In-Strength\",\"2\":\"1.000\",\"3\":\"1.000\"},{\"1\":\"SD In-Strength\",\"2\":\"0.000\",\"3\":\"0.000\"},{\"1\":\"Mean Out-Degree\",\"2\":\"8.667\",\"3\":\"8.667\"},{\"1\":\"SD Out-Degree\",\"2\":\"0.707\",\"3\":\"0.707\"},{\"1\":\"Centralization (Out-Degree)\",\"2\":\"0.016\",\"3\":\"0.016\"},{\"1\":\"Centralization (In-Degree)\",\"2\":\"0.016\",\"3\":\"0.016\"},{\"1\":\"Reciprocity\",\"2\":\"0.986\",\"3\":\"0.986\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n# Comparing Clusters\n\n## Difference Network\n\nThe difference plot highlights where the two clusters diverge. Edges are colored by direction: one color for transitions stronger in Pattern A, another for transitions stronger in Pattern B.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edges colored by which cluster has a stronger transition\nplot_compare(gtna_clust$`Pattern A`, gtna_clust$`Pattern B`, minimum = 0.01, cut = 0.1)\n```\n\n::: {.cell-output-display}\n![Difference network between clusters](index_files/figure-html/fig-cluster-compare-1.png){#fig-cluster-compare width=4800}\n:::\n:::\n\n\n## Community Structure\n\nCommunity detection identifies groups of states that are more densely connected to each other than to the rest of the network. Comparing community structures across clusters reveals whether the modular organization of the process differs between subgroups:\n\n\n::: {.cell layout-ncol=\"2\"}\n\n```{.r .cell-code}\n# Detect community structure within each cluster's network\n# igraph may override the `communities` function. That is why we use the prefix `tna::`\ncomm_clust <- tna::communities(gtna_clust) \nplot(comm_clust, cut = 0.1, minimum = 0.01)\n```\n\n::: {.cell-output-display}\n![Communities by cluster](index_files/figure-html/cluster-communities-1.png){width=3600}\n:::\n\n::: {.cell-output-display}\n![Communities by cluster](index_files/figure-html/cluster-communities-2.png){width=3600}\n:::\n:::\n\n\n## Centralities\n\nCentrality measures summarize the structural importance of each state within each cluster. Comparing centrality profiles across clusters identifies states that play different roles in different subgroups:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Compute and compare centrality measures across clusters\ncent_clust <- centralities(gtna_clust)\nplot(cent_clust)\n```\n\n::: {.cell-output-display}\n![Centralities by cluster](index_files/figure-html/fig-cluster-centralities-1.png){#fig-cluster-centralities width=4800}\n:::\n:::\n\n\n# Permutation Test for Clusters {#sec-permutation}\n\n## Why Permutation Testing Is Essential for Clusters\n\nPermutation testing is particularly important for data-driven clusters. Unlike known groups (where group membership is defined independently of the transition data), clustering algorithms partition sequences *to maximize* between-group separation. Some degree of apparent difference is therefore guaranteed by construction. The permutation test provides the necessary corrective: by randomly reassigning sequences to groups while preserving internal sequential structure, it constructs the null distribution of differences expected under random partitioning. Only differences that exceed this null distribution constitute evidence of genuine structural divergence rather than algorithmic artifacts.\n\nThe permutation approach preserves the temporal dependency structure that parametric tests on summary statistics necessarily violate, and provides a principled basis for distinguishing substantive cluster differences from stochastic variation (van Borkulo et al., 2023).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(265)  # for reproducibility\n# Test whether cluster differences exceed what random partitioning would produce\nperm_clust <- permutation_test(\n  gtna_clust$`Pattern A`, gtna_clust$`Pattern B`,\n  iter = 1000,  # number of random reassignments\n  measures = c(\"InStrength\", \"OutStrength\", \"Betweenness\")\n)\n```\n:::\n\n\n## Results\n\nFiltering for p \\< 0.05 identifies the transitions for which the observed cluster difference exceeds what would be expected under the null hypothesis:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter for statistically significant edges and sort by effect size\nsig_clust <- perm_clust$edges$stats[perm_clust$edges$stats$p_value < 0.05, ]\nsig_clust <- sig_clust[order(-abs(sig_clust$effect_size)), ]\nsig_clust\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"edge_name\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"diff_true\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"effect_size\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p_value\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"consensus -> plan\",\"2\":\"-0.0713\",\"3\":\"-5.9\",\"4\":\"0.001\",\"_rn_\":\"66\"},{\"1\":\"plan -> emotion\",\"2\":\"0.0391\",\"3\":\"4.0\",\"4\":\"0.001\",\"_rn_\":\"53\"},{\"1\":\"consensus -> coregulate\",\"2\":\"0.0385\",\"3\":\"3.6\",\"4\":\"0.001\",\"_rn_\":\"30\"},{\"1\":\"consensus -> discuss\",\"2\":\"0.0360\",\"3\":\"3.5\",\"4\":\"0.001\",\"_rn_\":\"39\"},{\"1\":\"consensus -> adapt\",\"2\":\"0.0052\",\"3\":\"3.0\",\"4\":\"0.005\",\"_rn_\":\"3\"},{\"1\":\"synthesis -> adapt\",\"2\":\"0.1026\",\"3\":\"2.9\",\"4\":\"0.005\",\"_rn_\":\"9\"},{\"1\":\"plan -> plan\",\"2\":\"-0.0345\",\"3\":\"-2.8\",\"4\":\"0.008\",\"_rn_\":\"71\"},{\"1\":\"coregulate -> plan\",\"2\":\"-0.0531\",\"3\":\"-2.7\",\"4\":\"0.007\",\"_rn_\":\"67\"},{\"1\":\"discuss -> emotion\",\"2\":\"0.0250\",\"3\":\"2.5\",\"4\":\"0.013\",\"_rn_\":\"50\"},{\"1\":\"monitor -> plan\",\"2\":\"-0.0524\",\"3\":\"-2.3\",\"4\":\"0.027\",\"_rn_\":\"70\"},{\"1\":\"consensus -> synthesis\",\"2\":\"0.0050\",\"3\":\"2.3\",\"4\":\"0.028\",\"_rn_\":\"75\"},{\"1\":\"monitor -> emotion\",\"2\":\"0.0352\",\"3\":\"2.3\",\"4\":\"0.025\",\"_rn_\":\"52\"},{\"1\":\"plan -> cohesion\",\"2\":\"-0.0089\",\"3\":\"-2.2\",\"4\":\"0.041\",\"_rn_\":\"17\"},{\"1\":\"discuss -> monitor\",\"2\":\"-0.0097\",\"3\":\"-2.1\",\"4\":\"0.034\",\"_rn_\":\"59\"},{\"1\":\"synthesis -> plan\",\"2\":\"-0.0440\",\"3\":\"-2.1\",\"4\":\"0.043\",\"_rn_\":\"72\"},{\"1\":\"plan -> monitor\",\"2\":\"0.0140\",\"3\":\"2.0\",\"4\":\"0.050\",\"_rn_\":\"62\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n::: {.callout-tip collapse=\"true\"}\n## Interpreting the Columns\n\n| Column | Meaning | Interpretation |\n|------------------|--------------------|----------------------------------|\n| `edge_name` | The transition (from &rarr; to) | Which behavioral transition is being tested |\n| `diff_true` | Observed difference (Pattern A minus Pattern B) | Direction and magnitude of the cluster difference |\n| `effect_size` | Difference / SD of permuted differences | Standardized effect size (analogous to Cohen's *d*). Values \\> 0.5 moderate; \\> 0.8 large |\n| `p_value` | Proportion of permutations as extreme as observed | Statistical significance. Values \\< 0.05 are conventionally significant |\n:::\n\n## Visualization\n\nThe permutation plot displays only the edges that reached statistical significance:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Only edges with p < 0.05 are displayed\nplot(perm_clust, minimum = 0.01, cut = 0.1)\n```\n\n::: {.cell-output-display}\n![Significant differences between clusters](index_files/figure-html/fig-cluster-permutation-1.png){#fig-cluster-permutation width=4800}\n:::\n:::\n\n\n# Bootstrap Validation of Clusters {#sec-bootstrap}\n\n## Why Bootstrap Cluster Models?\n\nThe same replicability concern that applies to any TNA model applies with particular force to cluster-specific models. Because cluster assignments are derived from the data itself, cluster-specific transition estimates are susceptible to overfitting: edges that appear in the point-estimate model for a given cluster may not survive resampling.\n\nBootstrapping addresses this directly. By resampling sequences with replacement and reconstructing the transition matrix across a large number of iterations, the procedure generates empirical sampling distributions for each edge weight, thereby distinguishing transitions that are stable properties of the discovered pattern from those whose presence is contingent on the particular sample at hand (Saqr, Lopez-Pernas, & Tikka, 2025). Edges that do not consistently exceed a defined threshold are identified as non-significant, yielding a model in which every retained transition has demonstrated resampling support.\n\n::: callout-note\n## Permutation and Bootstrap: Complementary Confirmatory Roles\n\n| Method | Inferential Target | What It Confirms |\n|-----------------|-----------------------------|---------------------------|\n| **Permutation test** | Between-cluster differences | Whether observed differences exceed what would be expected under random cluster assignment |\n| **Bootstrap** | Within-cluster edge stability | Whether individual edges within each cluster model are replicable or sample-contingent |\n\nNeither test subsumes the other. Together, they provide a complete inferential framework: the bootstrap identifies which transitions reliably exist within each cluster, and the permutation test identifies which transitions reliably differ between clusters.\n:::\n\n## Running the Bootstrap\n\nWe apply `bootstrap()` to each cluster model separately. Each bootstrap resamples the sequences assigned to that cluster and reconstructs the transition matrix, repeating 1,000 times to build empirical sampling distributions for each edge.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(265)  # for reproducibility\n# Bootstrap each cluster model to assess within-cluster edge stability\nboot_patA <- bootstrap(gtna_clust$`Pattern A`, iter = 1000, level = 0.05)\nboot_patB <- bootstrap(gtna_clust$`Pattern B`, iter = 1000, level = 0.05)\n```\n:::\n\n\n## Results\n\nAn edge marked `sig = TRUE` appeared consistently across 1,000 resampled datasets; an edge marked `sig = FALSE` did not survive this replicability criterion:\n\n**Pattern A: significant edges**\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edges that survived the bootstrap stability criterion for Pattern A\nboot_patA$summary[boot_patA$summary$sig == TRUE, ] \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"from\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"to\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weight\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p_value\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"sig\"],\"name\":[5],\"type\":[\"lgl\"],\"align\":[\"right\"]},{\"label\":[\"cr_lower\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"cr_upper\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"ci_lower\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"ci_upper\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"emotion\",\"2\":\"cohesion\",\"3\":\"0.328\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.246\",\"7\":\"0.410\",\"8\":\"0.289\",\"9\":\"0.364\",\"_rn_\":\"15\"},{\"1\":\"adapt\",\"2\":\"consensus\",\"3\":\"0.449\",\"4\":\"0.029\",\"5\":\"TRUE\",\"6\":\"0.336\",\"7\":\"0.561\",\"8\":\"0.361\",\"9\":\"0.555\",\"_rn_\":\"19\"},{\"1\":\"cohesion\",\"2\":\"consensus\",\"3\":\"0.485\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.363\",\"7\":\"0.606\",\"8\":\"0.427\",\"9\":\"0.537\",\"_rn_\":\"20\"},{\"1\":\"consensus\",\"2\":\"consensus\",\"3\":\"0.082\",\"4\":\"0.012\",\"5\":\"TRUE\",\"6\":\"0.062\",\"7\":\"0.103\",\"8\":\"0.067\",\"9\":\"0.099\",\"_rn_\":\"21\"},{\"1\":\"discuss\",\"2\":\"consensus\",\"3\":\"0.319\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.239\",\"7\":\"0.399\",\"8\":\"0.284\",\"9\":\"0.356\",\"_rn_\":\"23\"},{\"1\":\"emotion\",\"2\":\"consensus\",\"3\":\"0.332\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.249\",\"7\":\"0.414\",\"8\":\"0.296\",\"9\":\"0.370\",\"_rn_\":\"24\"},{\"1\":\"monitor\",\"2\":\"consensus\",\"3\":\"0.178\",\"4\":\"0.042\",\"5\":\"TRUE\",\"6\":\"0.133\",\"7\":\"0.222\",\"8\":\"0.136\",\"9\":\"0.221\",\"_rn_\":\"25\"},{\"1\":\"plan\",\"2\":\"consensus\",\"3\":\"0.288\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.216\",\"7\":\"0.360\",\"8\":\"0.261\",\"9\":\"0.317\",\"_rn_\":\"26\"},{\"1\":\"synthesis\",\"2\":\"consensus\",\"3\":\"0.405\",\"4\":\"0.026\",\"5\":\"TRUE\",\"6\":\"0.304\",\"7\":\"0.506\",\"8\":\"0.322\",\"9\":\"0.496\",\"_rn_\":\"27\"},{\"1\":\"consensus\",\"2\":\"coregulate\",\"3\":\"0.220\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.165\",\"7\":\"0.274\",\"8\":\"0.196\",\"9\":\"0.244\",\"_rn_\":\"30\"},{\"1\":\"discuss\",\"2\":\"coregulate\",\"3\":\"0.079\",\"4\":\"0.045\",\"5\":\"TRUE\",\"6\":\"0.059\",\"7\":\"0.098\",\"8\":\"0.059\",\"9\":\"0.097\",\"_rn_\":\"32\"},{\"1\":\"consensus\",\"2\":\"discuss\",\"3\":\"0.218\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.163\",\"7\":\"0.272\",\"8\":\"0.195\",\"9\":\"0.242\",\"_rn_\":\"39\"},{\"1\":\"coregulate\",\"2\":\"discuss\",\"3\":\"0.284\",\"4\":\"0.007\",\"5\":\"TRUE\",\"6\":\"0.213\",\"7\":\"0.356\",\"8\":\"0.235\",\"9\":\"0.338\",\"_rn_\":\"40\"},{\"1\":\"discuss\",\"2\":\"discuss\",\"3\":\"0.185\",\"4\":\"0.003\",\"5\":\"TRUE\",\"6\":\"0.139\",\"7\":\"0.231\",\"8\":\"0.157\",\"9\":\"0.216\",\"_rn_\":\"41\"},{\"1\":\"emotion\",\"2\":\"discuss\",\"3\":\"0.094\",\"4\":\"0.047\",\"5\":\"TRUE\",\"6\":\"0.070\",\"7\":\"0.117\",\"8\":\"0.071\",\"9\":\"0.117\",\"_rn_\":\"42\"},{\"1\":\"monitor\",\"2\":\"discuss\",\"3\":\"0.372\",\"4\":\"0.003\",\"5\":\"TRUE\",\"6\":\"0.279\",\"7\":\"0.465\",\"8\":\"0.319\",\"9\":\"0.425\",\"_rn_\":\"43\"},{\"1\":\"plan\",\"2\":\"discuss\",\"3\":\"0.064\",\"4\":\"0.049\",\"5\":\"TRUE\",\"6\":\"0.048\",\"7\":\"0.081\",\"8\":\"0.049\",\"9\":\"0.081\",\"_rn_\":\"44\"},{\"1\":\"consensus\",\"2\":\"emotion\",\"3\":\"0.068\",\"4\":\"0.020\",\"5\":\"TRUE\",\"6\":\"0.051\",\"7\":\"0.085\",\"8\":\"0.053\",\"9\":\"0.082\",\"_rn_\":\"48\"},{\"1\":\"coregulate\",\"2\":\"emotion\",\"3\":\"0.193\",\"4\":\"0.029\",\"5\":\"TRUE\",\"6\":\"0.144\",\"7\":\"0.241\",\"8\":\"0.152\",\"9\":\"0.235\",\"_rn_\":\"49\"},{\"1\":\"discuss\",\"2\":\"emotion\",\"3\":\"0.126\",\"4\":\"0.009\",\"5\":\"TRUE\",\"6\":\"0.094\",\"7\":\"0.157\",\"8\":\"0.103\",\"9\":\"0.150\",\"_rn_\":\"50\"},{\"1\":\"plan\",\"2\":\"emotion\",\"3\":\"0.180\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.135\",\"7\":\"0.225\",\"8\":\"0.155\",\"9\":\"0.205\",\"_rn_\":\"53\"},{\"1\":\"plan\",\"2\":\"monitor\",\"3\":\"0.087\",\"4\":\"0.020\",\"5\":\"TRUE\",\"6\":\"0.065\",\"7\":\"0.109\",\"8\":\"0.069\",\"9\":\"0.106\",\"_rn_\":\"62\"},{\"1\":\"consensus\",\"2\":\"plan\",\"3\":\"0.337\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.253\",\"7\":\"0.421\",\"8\":\"0.312\",\"9\":\"0.364\",\"_rn_\":\"66\"},{\"1\":\"coregulate\",\"2\":\"plan\",\"3\":\"0.195\",\"4\":\"0.017\",\"5\":\"TRUE\",\"6\":\"0.147\",\"7\":\"0.244\",\"8\":\"0.157\",\"9\":\"0.238\",\"_rn_\":\"67\"},{\"1\":\"monitor\",\"2\":\"plan\",\"3\":\"0.174\",\"4\":\"0.044\",\"5\":\"TRUE\",\"6\":\"0.131\",\"7\":\"0.218\",\"8\":\"0.131\",\"9\":\"0.216\",\"_rn_\":\"70\"},{\"1\":\"plan\",\"2\":\"plan\",\"3\":\"0.345\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.259\",\"7\":\"0.431\",\"8\":\"0.313\",\"9\":\"0.375\",\"_rn_\":\"71\"},{\"1\":\"discuss\",\"2\":\"synthesis\",\"3\":\"0.139\",\"4\":\"0.006\",\"5\":\"TRUE\",\"6\":\"0.104\",\"7\":\"0.174\",\"8\":\"0.114\",\"9\":\"0.165\",\"_rn_\":\"77\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n**Pattern B: significant edges**\n\n::: {.cell}\n\n```{.r .cell-code}\n# Edges that survived the bootstrap stability criterion for Pattern B\nboot_patB$summary[boot_patB$summary$sig == TRUE, ] \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"from\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"to\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weight\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p_value\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"sig\"],\"name\":[5],\"type\":[\"lgl\"],\"align\":[\"right\"]},{\"label\":[\"cr_lower\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"cr_upper\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"ci_lower\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"ci_upper\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"discuss\",\"2\":\"adapt\",\"3\":\"0.071\",\"4\":\"0.002\",\"5\":\"TRUE\",\"6\":\"0.054\",\"7\":\"0.089\",\"8\":\"0.062\",\"9\":\"0.081\",\"_rn_\":\"5\"},{\"1\":\"synthesis\",\"2\":\"adapt\",\"3\":\"0.215\",\"4\":\"0.003\",\"5\":\"TRUE\",\"6\":\"0.161\",\"7\":\"0.269\",\"8\":\"0.181\",\"9\":\"0.250\",\"_rn_\":\"9\"},{\"1\":\"adapt\",\"2\":\"cohesion\",\"3\":\"0.269\",\"4\":\"0.004\",\"5\":\"TRUE\",\"6\":\"0.201\",\"7\":\"0.336\",\"8\":\"0.229\",\"9\":\"0.314\",\"_rn_\":\"10\"},{\"1\":\"consensus\",\"2\":\"cohesion\",\"3\":\"0.016\",\"4\":\"0.017\",\"5\":\"TRUE\",\"6\":\"0.012\",\"7\":\"0.019\",\"8\":\"0.013\",\"9\":\"0.019\",\"_rn_\":\"12\"},{\"1\":\"discuss\",\"2\":\"cohesion\",\"3\":\"0.045\",\"4\":\"0.003\",\"5\":\"TRUE\",\"6\":\"0.034\",\"7\":\"0.056\",\"8\":\"0.038\",\"9\":\"0.053\",\"_rn_\":\"14\"},{\"1\":\"emotion\",\"2\":\"cohesion\",\"3\":\"0.325\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.243\",\"7\":\"0.406\",\"8\":\"0.306\",\"9\":\"0.344\",\"_rn_\":\"15\"},{\"1\":\"monitor\",\"2\":\"cohesion\",\"3\":\"0.056\",\"4\":\"0.031\",\"5\":\"TRUE\",\"6\":\"0.042\",\"7\":\"0.070\",\"8\":\"0.043\",\"9\":\"0.069\",\"_rn_\":\"16\"},{\"1\":\"plan\",\"2\":\"cohesion\",\"3\":\"0.027\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.020\",\"7\":\"0.033\",\"8\":\"0.022\",\"9\":\"0.031\",\"_rn_\":\"17\"},{\"1\":\"adapt\",\"2\":\"consensus\",\"3\":\"0.485\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.364\",\"7\":\"0.606\",\"8\":\"0.432\",\"9\":\"0.538\",\"_rn_\":\"19\"},{\"1\":\"cohesion\",\"2\":\"consensus\",\"3\":\"0.501\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.376\",\"7\":\"0.626\",\"8\":\"0.474\",\"9\":\"0.526\",\"_rn_\":\"20\"},{\"1\":\"consensus\",\"2\":\"consensus\",\"3\":\"0.082\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.061\",\"7\":\"0.102\",\"8\":\"0.075\",\"9\":\"0.089\",\"_rn_\":\"21\"},{\"1\":\"coregulate\",\"2\":\"consensus\",\"3\":\"0.136\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.102\",\"7\":\"0.170\",\"8\":\"0.118\",\"9\":\"0.152\",\"_rn_\":\"22\"},{\"1\":\"discuss\",\"2\":\"consensus\",\"3\":\"0.322\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.241\",\"7\":\"0.402\",\"8\":\"0.305\",\"9\":\"0.339\",\"_rn_\":\"23\"},{\"1\":\"emotion\",\"2\":\"consensus\",\"3\":\"0.318\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.238\",\"7\":\"0.397\",\"8\":\"0.297\",\"9\":\"0.336\",\"_rn_\":\"24\"},{\"1\":\"monitor\",\"2\":\"consensus\",\"3\":\"0.154\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.116\",\"7\":\"0.193\",\"8\":\"0.134\",\"9\":\"0.174\",\"_rn_\":\"25\"},{\"1\":\"plan\",\"2\":\"consensus\",\"3\":\"0.291\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.218\",\"7\":\"0.364\",\"8\":\"0.279\",\"9\":\"0.303\",\"_rn_\":\"26\"},{\"1\":\"synthesis\",\"2\":\"consensus\",\"3\":\"0.481\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.361\",\"7\":\"0.601\",\"8\":\"0.438\",\"9\":\"0.523\",\"_rn_\":\"27\"},{\"1\":\"cohesion\",\"2\":\"coregulate\",\"3\":\"0.118\",\"4\":\"0.002\",\"5\":\"TRUE\",\"6\":\"0.089\",\"7\":\"0.148\",\"8\":\"0.100\",\"9\":\"0.136\",\"_rn_\":\"29\"},{\"1\":\"consensus\",\"2\":\"coregulate\",\"3\":\"0.181\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.136\",\"7\":\"0.226\",\"8\":\"0.170\",\"9\":\"0.191\",\"_rn_\":\"30\"},{\"1\":\"discuss\",\"2\":\"coregulate\",\"3\":\"0.086\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.064\",\"7\":\"0.107\",\"8\":\"0.075\",\"9\":\"0.095\",\"_rn_\":\"32\"},{\"1\":\"emotion\",\"2\":\"coregulate\",\"3\":\"0.034\",\"4\":\"0.024\",\"5\":\"TRUE\",\"6\":\"0.026\",\"7\":\"0.043\",\"8\":\"0.027\",\"9\":\"0.042\",\"_rn_\":\"33\"},{\"1\":\"monitor\",\"2\":\"coregulate\",\"3\":\"0.057\",\"4\":\"0.035\",\"5\":\"TRUE\",\"6\":\"0.043\",\"7\":\"0.071\",\"8\":\"0.044\",\"9\":\"0.071\",\"_rn_\":\"34\"},{\"1\":\"plan\",\"2\":\"coregulate\",\"3\":\"0.018\",\"4\":\"0.017\",\"5\":\"TRUE\",\"6\":\"0.013\",\"7\":\"0.022\",\"8\":\"0.015\",\"9\":\"0.022\",\"_rn_\":\"35\"},{\"1\":\"cohesion\",\"2\":\"discuss\",\"3\":\"0.056\",\"4\":\"0.027\",\"5\":\"TRUE\",\"6\":\"0.042\",\"7\":\"0.069\",\"8\":\"0.044\",\"9\":\"0.067\",\"_rn_\":\"38\"},{\"1\":\"consensus\",\"2\":\"discuss\",\"3\":\"0.182\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.136\",\"7\":\"0.227\",\"8\":\"0.171\",\"9\":\"0.193\",\"_rn_\":\"39\"},{\"1\":\"coregulate\",\"2\":\"discuss\",\"3\":\"0.271\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.203\",\"7\":\"0.339\",\"8\":\"0.250\",\"9\":\"0.293\",\"_rn_\":\"40\"},{\"1\":\"discuss\",\"2\":\"discuss\",\"3\":\"0.197\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.148\",\"7\":\"0.247\",\"8\":\"0.185\",\"9\":\"0.212\",\"_rn_\":\"41\"},{\"1\":\"emotion\",\"2\":\"discuss\",\"3\":\"0.104\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.078\",\"7\":\"0.130\",\"8\":\"0.091\",\"9\":\"0.118\",\"_rn_\":\"42\"},{\"1\":\"monitor\",\"2\":\"discuss\",\"3\":\"0.376\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.282\",\"7\":\"0.471\",\"8\":\"0.351\",\"9\":\"0.402\",\"_rn_\":\"43\"},{\"1\":\"plan\",\"2\":\"discuss\",\"3\":\"0.069\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.051\",\"7\":\"0.086\",\"8\":\"0.062\",\"9\":\"0.075\",\"_rn_\":\"44\"},{\"1\":\"cohesion\",\"2\":\"emotion\",\"3\":\"0.116\",\"4\":\"0.002\",\"5\":\"TRUE\",\"6\":\"0.087\",\"7\":\"0.145\",\"8\":\"0.100\",\"9\":\"0.133\",\"_rn_\":\"47\"},{\"1\":\"consensus\",\"2\":\"emotion\",\"3\":\"0.074\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.055\",\"7\":\"0.092\",\"8\":\"0.067\",\"9\":\"0.081\",\"_rn_\":\"48\"},{\"1\":\"coregulate\",\"2\":\"emotion\",\"3\":\"0.168\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.126\",\"7\":\"0.210\",\"8\":\"0.149\",\"9\":\"0.186\",\"_rn_\":\"49\"},{\"1\":\"discuss\",\"2\":\"emotion\",\"3\":\"0.101\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.076\",\"7\":\"0.126\",\"8\":\"0.091\",\"9\":\"0.111\",\"_rn_\":\"50\"},{\"1\":\"emotion\",\"2\":\"emotion\",\"3\":\"0.077\",\"4\":\"0.004\",\"5\":\"TRUE\",\"6\":\"0.058\",\"7\":\"0.096\",\"8\":\"0.064\",\"9\":\"0.089\",\"_rn_\":\"51\"},{\"1\":\"monitor\",\"2\":\"emotion\",\"3\":\"0.083\",\"4\":\"0.010\",\"5\":\"TRUE\",\"6\":\"0.062\",\"7\":\"0.104\",\"8\":\"0.068\",\"9\":\"0.100\",\"_rn_\":\"52\"},{\"1\":\"plan\",\"2\":\"emotion\",\"3\":\"0.141\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.106\",\"7\":\"0.176\",\"8\":\"0.132\",\"9\":\"0.151\",\"_rn_\":\"53\"},{\"1\":\"consensus\",\"2\":\"monitor\",\"3\":\"0.047\",\"4\":\"0.002\",\"5\":\"TRUE\",\"6\":\"0.035\",\"7\":\"0.059\",\"8\":\"0.042\",\"9\":\"0.053\",\"_rn_\":\"57\"},{\"1\":\"coregulate\",\"2\":\"monitor\",\"3\":\"0.088\",\"4\":\"0.002\",\"5\":\"TRUE\",\"6\":\"0.066\",\"7\":\"0.109\",\"8\":\"0.074\",\"9\":\"0.102\",\"_rn_\":\"58\"},{\"1\":\"discuss\",\"2\":\"monitor\",\"3\":\"0.024\",\"4\":\"0.023\",\"5\":\"TRUE\",\"6\":\"0.018\",\"7\":\"0.030\",\"8\":\"0.019\",\"9\":\"0.029\",\"_rn_\":\"59\"},{\"1\":\"emotion\",\"2\":\"monitor\",\"3\":\"0.037\",\"4\":\"0.016\",\"5\":\"TRUE\",\"6\":\"0.028\",\"7\":\"0.046\",\"8\":\"0.030\",\"9\":\"0.044\",\"_rn_\":\"60\"},{\"1\":\"plan\",\"2\":\"monitor\",\"3\":\"0.073\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.055\",\"7\":\"0.092\",\"8\":\"0.067\",\"9\":\"0.080\",\"_rn_\":\"62\"},{\"1\":\"cohesion\",\"2\":\"plan\",\"3\":\"0.143\",\"4\":\"0.002\",\"5\":\"TRUE\",\"6\":\"0.107\",\"7\":\"0.179\",\"8\":\"0.124\",\"9\":\"0.162\",\"_rn_\":\"65\"},{\"1\":\"consensus\",\"2\":\"plan\",\"3\":\"0.408\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.306\",\"7\":\"0.510\",\"8\":\"0.395\",\"9\":\"0.422\",\"_rn_\":\"66\"},{\"1\":\"coregulate\",\"2\":\"plan\",\"3\":\"0.248\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.186\",\"7\":\"0.311\",\"8\":\"0.228\",\"9\":\"0.271\",\"_rn_\":\"67\"},{\"1\":\"emotion\",\"2\":\"plan\",\"3\":\"0.101\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.076\",\"7\":\"0.127\",\"8\":\"0.090\",\"9\":\"0.114\",\"_rn_\":\"69\"},{\"1\":\"monitor\",\"2\":\"plan\",\"3\":\"0.227\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.170\",\"7\":\"0.283\",\"8\":\"0.205\",\"9\":\"0.251\",\"_rn_\":\"70\"},{\"1\":\"plan\",\"2\":\"plan\",\"3\":\"0.380\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.285\",\"7\":\"0.474\",\"8\":\"0.367\",\"9\":\"0.393\",\"_rn_\":\"71\"},{\"1\":\"discuss\",\"2\":\"synthesis\",\"3\":\"0.141\",\"4\":\"0.001\",\"5\":\"TRUE\",\"6\":\"0.106\",\"7\":\"0.177\",\"8\":\"0.129\",\"9\":\"0.154\",\"_rn_\":\"77\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n::: {.callout-tip collapse=\"true\"}\n## Bootstrap Summary Columns\n\n| Column | Meaning |\n|----|----|\n| `from`, `to` | The transition being evaluated |\n| `mean` | Average edge weight across bootstrap resamples |\n| `ci_lower`, `ci_upper` | 95% confidence interval for the edge weight |\n| `sig` | `TRUE` if the edge demonstrated resampling stability |\n:::\n\n## Visualizing Bootstrapped Cluster Networks\n\nThe plots below display only the edges that survived the bootstrap procedure --- the confirmed, replicable transition structure of each cluster:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Side-by-side: only edges that survived the bootstrap are displayed\npar(mfrow = c(1, 2))\nplot(boot_patA, cut = 0.1)\nplot(boot_patB, cut = 0.1)\npar(mfrow = c(1, 1))\n```\n\n::: {.cell-output-display}\n![Bootstrap-validated networks for each cluster](index_files/figure-html/fig-bootstrap-clusters-1.png){#fig-bootstrap-clusters width=7200}\n:::\n:::\n\n\n# Choosing the Number of Clusters\n\nThe choice of `k` is a substantive decision. There is no single \"correct\" number of clusters --- the goal is to find a solution where clusters have meaningfully different structures and each cluster is interpretable.\n\nA practical approach is to try several values and compare:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Try several values of k and compare cluster summaries\nfor (k in 2:5) {\n  clust_k <- cluster_sequences(prepared_data$sequence_data, k = k)\n  gtna_k <- group_tna(clust_k)\n  cat(\"\\n--- k =\", k, \"---\\n\")\n  print(summary(gtna_k))\n}\n```\n:::\n\n\nIf increasing *k* only splits an existing cluster into two nearly identical subgroups, fewer clusters suffice. If a new *k* reveals a genuinely distinct behavioral pattern (e.g., a cluster with a strong plan &rarr; monitor &rarr; adapt cycle that was previously merged with a different pattern), the higher *k* may be warranted.\n\n::: {.callout-tip collapse=\"true\"}\n## Clustering vs. Known Groups\n\n| Approach | When to Use | How |\n|------------------------|-------------------------------|-----------------|\n| **Known groups** | Pre-existing grouping variable | `group_tna(data, group = \"Variable\")` |\n| **Data-driven clusters** | No grouping variable, or exploring latent patterns | `cluster_sequences()` then `group_tna()` |\n\nThese are complementary. Cluster for exploration, then validate against known variables. If clusters align with a known variable (e.g., high vs. low achievers), this provides convergent evidence. If they do not, the clusters may reveal behavioral dimensions that the known variable does not capture.\n:::\n\n# Summary\n\nThis tutorial demonstrated a complete workflow for data-driven discovery of behavioral subgroups:\n\n1.  **Cluster** sequences with `cluster_sequences()` based on structural dissimilarity.\n2.  **Build** group-specific TNA models with `group_tna()` and visualize them.\n3.  **Compare** clusters with difference plots, community detection, and centrality profiles.\n4.  **Validate differences** with `permutation_test()` to confirm that cluster differences exceed what would be expected by chance.\n5.  **Validate edges** with `bootstrap()` to confirm that within-cluster transitions are replicable.\n6.  **Report** only edges and differences that survive the relevant inferential test.\n\nFor group comparisons using known variables (e.g., achievement group, experimental condition), see the [group comparison tutorial](../tna-group/index.html).\n\n# References {.unnumbered}\n\n-   Tikka, S., Lopez-Pernas, S., & Saqr, M. (2025). tna: An R Package for Transition Network Analysis. *Applied Psychological Measurement*. <https://doi.org/10.1177/01466216251348840>\n-   Package website: <https://sonsoles.me/tna/>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}